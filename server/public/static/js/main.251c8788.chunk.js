(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{110:function(e,t,a){},137:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),i=a.n(c),o=(a(110),a(27)),s=a(139),l=a(169),u=a(94),d=a(185),j=a(21),b=Object(j.c)({name:"app",initialState:{isDarkMode:!0},reducers:{changeDarkMode:function(e){e.isDarkMode=!e.isDarkMode}}}),p=b.actions.changeDarkMode,h=b.reducer,g=a(28),m=a.n(g),O=a(55),x=a(56),f=a.n(x),w="http://localhost:5000/api/emailReports",v=Object(j.b)("emailReports/getEmailReportsList",Object(O.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f()({method:"get",url:"".concat(w,"/getList")});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),R=Object(j.b)("emailReports/getEmailReportsListByRange",function(){var e=Object(O.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f()({method:"get",url:"".concat(w,"/getListByRange"),params:{range:t}});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),k=Object(j.b)("emailReports/treatEmailReportsListByRange",function(){var e=Object(O.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f()({method:"get",url:"".concat(w,"/treatListByRange"),params:{range:t}});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),y=Object(j.b)("emailReports/treatEmailReportsList",Object(O.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f()({method:"get",url:"".concat(w,"/treat")});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),M=a(172),D=a(174),P=a(175),S=a(176),C=a(86),L=a.n(C),B=a(87),F=a.n(B),E=a(4),H=Object(l.a)((function(e){return{menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},grow:{flexGrow:1}}}));var N=function(e){var t=e.darkModeHandler,a=e.isDarkMode,n=H();return Object(E.jsx)(M.a,{position:"fixed",children:Object(E.jsxs)(D.a,{children:[Object(E.jsx)(P.a,{variant:"h6",noWrap:!0,children:"Api Results"}),Object(E.jsx)("div",{className:n.grow}),Object(E.jsx)(S.a,{onClick:t,children:a?Object(E.jsx)(L.a,{}):Object(E.jsx)(F.a,{})})]})})},I=a(182),Y=a(54),T=a(20),G=a(11),A=a(188),z=a(180),J=a(88),W=a.n(J),q=a(89),K=a.n(q),Q=Object(l.a)((function(e){return{tableBody:{height:"95vh"},tableSearch:Object(T.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(G.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(G.a)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),tableSearchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},tableInputRoot:{color:"inherit"},tableInputInput:Object(T.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}}),grow:{flexGrow:1},serachIconButton:{padding:10}}}));var U=function(){var e=Q(),t=Object(o.b)(),a=Object(o.c)((function(e){return{rows:e.emailReports.rows,loading:e.emailReports.loading}})),r=a.rows,c=a.loading,i=Object(n.useState)(""),s=Object(Y.a)(i,2),l=s[0],u=s[1],d=Object(n.useCallback)((function(){t(R(l))}),[t,l]);return Object(n.useEffect)((function(){!c&&l&&0!==r.length&&d()}),[c,d,l]),Object(E.jsx)(M.a,{position:"sticky",children:Object(E.jsxs)(D.a,{children:[Object(E.jsx)(P.a,{variant:"h6",component:"div",children:"Email Reports Results"}),Object(E.jsx)("div",{className:e.grow}),Object(E.jsx)(A.a,{value:l,onChange:function(e){u(e.currentTarget.value)},type:"number",helperText:"Get List By Hours"}),Object(E.jsx)(S.a,{disabled:!Boolean(l),onClick:function(e){u(""),t(v())},children:Object(E.jsx)(W.a,{})}),Object(E.jsx)(S.a,{disabled:!l,onClick:d,children:Object(E.jsx)(K.a,{})}),Object(E.jsx)("div",{className:e.grow}),Object(E.jsx)(z.a,{disabled:0===r.length||!Boolean(l),onClick:function(){t(k(l))},color:"secondary",children:"Manual Treat List"}),Object(E.jsx)(z.a,{onClick:function(){t(y())},color:"secondary",children:"Treat ALL IN RANGE"})]})})},V=a(187),X=a(183),Z=a(184),$=a(181),_=a(191),ee=a(92),te=a.n(ee),ae=a(95),ne=a(90),re=a(91),ce=function(e){var t=e.data,a=e.index,n=e.style,r=t.rows,c=t.page,i=t.rowsPerPage,o=r.slice(c*i,c*i+i)[a];if(!o)return null;var s=o.recurrence,l=o.nextEventDate,u=o.recipientsList,d=o.timezone;return Object(E.jsx)($.a,{button:!0,style:n,children:Object(E.jsxs)(I.a,{container:!0,children:[Object(E.jsx)(I.a,{item:!0,xs:1,children:Object(E.jsx)(te.a,{color:o.loading?"action":o.treated?"primary":"error"})}),Object(E.jsx)(I.a,{item:!0,xs:!0,children:Object(E.jsx)(P.a,{children:Object(re.dateFormater)({millisecondsDate:l.dateMs,dateFormat:"DD-MM-YYYY HH:mm"})})}),Object(E.jsx)(I.a,{item:!0,xs:!0,children:Object(E.jsx)(_.a,{title:u.toString().replace(",","; "),children:Object(E.jsxs)("div",{children:[u.length," Recipients"]})})}),Object(E.jsx)(I.a,{item:!0,xs:!0,children:d}),Object(E.jsxs)(I.a,{item:!0,xs:!0,children:["every ",s.days.toString()," on ",s.time]})]})})};var ie=function(e){var t=e.itemCount,a=e.rows,n=e.page,r=e.rowsPerPage;return Object(E.jsx)(ne.a,{children:function(e){var c=e.height,i=e.width;return Object(E.jsx)(ae.a,{className:"Grid",height:c,itemCount:t,itemSize:Math.max(c/t,35),width:i,itemData:{rows:a,page:n,rowsPerPage:r},children:ce})}})},oe=Object(l.a)((function(e){return{tablePaper:{width:"80%",display:"flex",flexFlow:"column nowrap",height:"calc(91vh - 7rem)",marginBottom:"5rem"},table:{minWidth:750},tableBody:{height:"calc(91vh - 64px - 52px - 7rem)"}}}));var se=function(e){var t=e.page,a=e.rowsPerPage,n=e.rows,r=oe();return Object(E.jsx)(X.a,{className:r.table,component:"div",children:Object(E.jsx)(Z.a,{component:"div",className:r.tableBody,children:Object(E.jsx)(ie,{itemCount:a,rows:n,page:t,rowsPerPage:a})})})};var le=function(){var e=Object(n.useState)(0),t=Object(Y.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(5),i=Object(Y.a)(c,2),s=i[0],l=i[1],u=Object(o.c)((function(e){return{rows:e.emailReports.rows}})).rows;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(se,{page:a,rowsPerPage:s,rows:u}),Object(E.jsx)(V.a,{rowsPerPageOptions:[5,10,25,{value:u.length,label:"All"}],component:"div",count:u.length,rowsPerPage:s,page:a,onPageChange:function(e,t){r(t)},onRowsPerPageChange:function(e){l(parseInt(e.target.value,10)),r(0)}})]})},ue=Object(l.a)((function(e){return{tablePaper:{width:"95%",display:"flex",flexFlow:"column nowrap",height:"calc(96vh - 7rem)",marginBottom:"1rem"}}}));var de=function(){var e=ue();return Object(E.jsxs)(s.a,{className:e.tablePaper,children:[Object(E.jsx)(U,{}),Object(E.jsxs)(I.a,{container:!0,style:{height:"3rem",paddingTop:"5px"},children:[Object(E.jsx)(I.a,{item:!0,xs:1,children:Object(E.jsx)(P.a,{variant:"button",children:"status"})}),Object(E.jsx)(I.a,{item:!0,xs:!0,children:Object(E.jsx)(P.a,{variant:"button",children:"Next Event Date"})}),Object(E.jsx)(I.a,{item:!0,xs:!0,children:Object(E.jsx)(P.a,{variant:"button",children:"Recipients"})}),Object(E.jsx)(I.a,{item:!0,xs:!0,children:Object(E.jsx)(P.a,{variant:"button",children:"timezone"})}),Object(E.jsx)(I.a,{item:!0,xs:!0,children:Object(E.jsx)(P.a,{variant:"button",children:"Recurrence time"})})]}),Object(E.jsx)(le,{})]})},je=Object(l.a)((function(e){return{contentRoot:{display:"flex",flexFlow:"column nowrap",alignItems:"center",minHeight:"calc(100vh - 7rem)",flexGrow:1,paddingTop:"7rem"}}}));var be,pe=function(){var e=Object(o.c)((function(e){return{isDarkMode:e.app.isDarkMode}})).isDarkMode,t=je(),a=Object(o.b)(),r=Object(n.useMemo)((function(){return Object(u.a)({palette:{type:e?"dark":"light"}})}),[e]);return Object(n.useEffect)((function(){a(v())}),[a]),Object(E.jsx)("div",{children:Object(E.jsx)(d.a,{theme:r,children:Object(E.jsxs)(s.a,{className:t.contentRoot,children:[Object(E.jsx)(N,{darkModeHandler:function(){a(p())},isDarkMode:e}),Object(E.jsx)(de,{})]})})})},he=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,192)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))},ge=a(29),me=Object(j.c)({name:"emailReports",initialState:{rows:[],loading:!1},reducers:{},extraReducers:(be={},Object(T.a)(be,v.fulfilled,(function(e,t){e.rows=t.payload})),Object(T.a)(be,R.fulfilled,(function(e,t){e.rows=t.payload})),Object(T.a)(be,k.pending,(function(e,t){e.rows=e.rows.map((function(e){return Object(ge.a)(Object(ge.a)({},e),{},{loading:!0})})),e.loading=!0})),Object(T.a)(be,k.fulfilled,(function(e,t){e.rows=e.rows.map((function(e){return Object(ge.a)(Object(ge.a)({},e),{},{loading:!1})})),e.loading=!1})),Object(T.a)(be,y.pending,(function(e,t){e.rows=e.rows.map((function(e){return Object(ge.a)(Object(ge.a)({},e),{},{loading:!0})})),e.loading=!0})),Object(T.a)(be,y.fulfilled,(function(e,t){e.rows=e.rows.map((function(e){return Object(ge.a)(Object(ge.a)({},e),{},{loading:!1})})),e.loading=!1})),be)}),Oe=(me.actions.treatEmails,me.reducer),xe=Object(j.a)({reducer:{app:h,emailReports:Oe}});i.a.render(Object(E.jsx)(r.a.StrictMode,{children:Object(E.jsx)(o.a,{store:xe,children:Object(E.jsx)(pe,{})})}),document.getElementById("root")),he()},91:function(e,t){e.exports={dateFormater:function(e){var t=e.millisecondsDate,a=e.dateFormat,n=new Date(t),r=n.getDate();r<10&&(r="0".concat(r));var c=n.getMonth()+1;c<10&&(c="0".concat(c));var i=n.getFullYear(),o=n.getHours();o<10&&(o="0".concat(o));var s=n.getHours()%12||12;s<10&&(s="0".concat(s));var l=n.getMinutes();l<10&&(l="0".concat(l));var u=n.getSeconds();u<10&&(u="0".concat(u));var d=n.getMilliseconds(),j=n.getMilliseconds();d<10&&(j="0".concat(j)),d<100&&(j="0".concat(j)),j=Number("0.".concat(j));var b=a;return b=b.replace(/DD/,r),r=n.getDate(),b=(b=b.replace(/D/,r)).replace(/MM/,c),c=n.getMonth()+1,b=(b=(b=(b=b.replace(/M/,c)).replace(/YYYY/,i)).replace(/YY/,i.toString().slice(2))).replace(/HH/,o),o=n.getHours(),b=(b=b.replace(/H/,o)).replace(/hh/,s),s=n.getHours()%12||12,b=(b=b.replace(/h/,s)).replace(/mm/,l),l=n.getMinutes(),b=(b=b.replace(/m/,l)).replace(/ss/,u),u=n.getSeconds(),b=(b=(b=(b=b.replace(/s/,u)).replace(/SSS/,j.toFixed(3).slice(2))).replace(/SS/,j.toFixed(2).slice(2))).replace(/S/,j.toFixed(1).slice(2))}}}},[[137,1,2]]]);
//# sourceMappingURL=main.251c8788.chunk.js.map